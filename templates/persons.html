{% extends "template_main.html" %}

{% block title %}
Lista osób
{% endblock %}


{% block content %}

{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    {% for category, message in messages %}
      <div class="alert alert-{{ category }} mt-3">
        {{ message }}
      </div>
    {% endfor %}
  {% endif %}
{% endwith %}


<br>
<h1 style="font-family: Calibri; font-size: 38px; font-weight: 600; text-align: center;">
    Lista Osób
</h1>

<div class="form-wrapper" style="font-size: 16px;">
  
    <a href="{{ url_for('person_page_add') }}" class="btn btn-outline btn-success">
        Dodaj Osobę do Bazy
    </a>
</div>


{% endblock %}


{%block table %}
    <table class="table table-striped table-dark">
    <thead>
        <tr>
        <th scope="col">ID</th>
        <th scope="col">Imię</th>
        <th scope="col">Nazwisko</th>
        <th scope="col">Numer Telefonu</th>
        </tr>
    </thead>
    <tbody>
        {% for person in persons %}
                    <tr>
                        <td>{{ person.id }}</td>
                        <td>{{ person.name }}</td>
                        <td>{{ person.surname }}</td>
                        <td>{{ person.phone }}</td>
                        <td>
                            <a href="{{url_for('person_page_edit', id=person.id)}}" class="btn btn-outline btn-info">Edytuj Osobę</a>
                            <a href="{{url_for('person_page_delete', id=person.id)}}" class="btn btn-outline btn-danger">Usuń Osobę</a>
                        </td>
                    </tr>
        {% endfor %}
    </tbody>
    </table>

<style>
    
    .form-wrapper {
        width: fit-content;
        margin: 0 auto;  }    /* centruje poziomo */
</style>
{%endblock%}